<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
<title>SWI-Prolog 6.3.0 Reference Manual: Section 1.6</title><link rel="home" href="index.html">
<link rel="contents" href="Contents.html">
<link rel="index" href="DocIndex.html">
<link rel="summary" href="summary.html">
<link rel="previous" href="xpce.html">
<link rel="next" href="sponsor.html">

<style type="text/css">

/* Style sheet for SWI-Prolog latex2html
*/

dd.defbody
{ margin-bottom: 1em;
}

dt.pubdef
{ background-color: #c5e1ff;
}

dt.multidef
{ background-color: #c8ffc7;
}

.bib dd
{ margin-bottom: 1em;
}

.bib dt
{ float: left;
margin-right: 1.3ex;
}

pre.code
{ margin-left: 1.5em;
margin-right: 1.5em;
border: 1px dotted;
padding-top: 5px;
padding-left: 5px;
padding-bottom: 5px;
background-color: #f8f8f8;
}

div.navigate
{ text-align: center;
background-color: #f0f0f0;
border: 1px dotted;
padding: 5px;
}

div.title
{ text-align: center;
padding-bottom: 1em;
font-size: 200%;
font-weight: bold;
}

div.author
{ text-align: center;
font-style: italic;
}

div.abstract
{ margin-top: 2em;
background-color: #f0f0f0;
border: 1px dotted;
padding: 5px;
margin-left: 10%; margin-right:10%;
}

div.abstract-title
{ text-align: center;
padding: 5px;
font-size: 120%;
font-weight: bold;
}

div.toc-h1
{ font-size: 200%;
font-weight: bold;
}

div.toc-h2
{ font-size: 120%;
font-weight: bold;
margin-left: 2em;
}

div.toc-h3
{ font-size: 100%;
font-weight: bold;
margin-left: 4em;
}

div.toc-h4
{ font-size: 100%;
margin-left: 6em;
}

span.sec-nr
{
}

span.sec-title
{
}

span.pred-ext
{ font-weight: bold;
}

span.pred-tag
{ float: right;
padding-top: 0.2em;
font-size: 80%;
font-style: italic;
color: #202020;
}

/* Footnotes */

sup.fn { color: blue; text-decoration: underline; }
span.fn-text { display: none; }
sup.fn span {display: none;}
sup:hover span
{ display: block !important;
position: absolute; top: auto; left: auto; width: 80%;
color: #000; background: white;
border: 2px solid;
padding: 5px; margin: 10px; z-index: 100;
font-size: smaller;
}

/* Lists */

dl.latex
{ margin-top: 1ex;
margin-bottom: 0.5ex;
}

dl.latex dl.latex dd.defbody
{ margin-bottom: 0.5ex;
}

/* PlDoc Tags */

dl.tags
{ font-size: 90%;
margin-left: 5ex;
margin-top: 1ex;
margin-bottom: 0.5ex;
}

dl.tags dt
{ margin-left: 0pt;
font-weight: bold;
}

dl.tags dd
{ margin-left: 3ex;
}

td.param
{ font-style: italic;
font-weight: bold;
}

/* Index */

dt.index-sep
{ font-weight: bold;
font-size: +1;
margin-top: 1ex;
}
</style>
</head>
<body bgcolor="white">
<div class="navigate"><a class="nav" href="index.html"><img src="home.gif" border=0 alt="Home"></A>
<a class="nav" href="Contents.html"><img src="index.gif" border=0 alt="Contents"></A>
<a class="nav" href="DocIndex.html"><img src="yellow_pages.gif" border=0 alt="Index"></A>
<a class="nav" href="summary.html"><img src="info.gif" border=0 alt="Summary"></A>
<a class="nav" href="xpce.html"><img src="prev.gif" border=0 alt="Previous"></A>
<a class="nav" href="sponsor.html"><img src="next.gif" border=0 alt="Next"></A>
</div>

<h2><a name="sec:1.6"><span class="sec-nr">1.6</span> <span class="sec-title">Release 
Notes</span></a></h2>

<a name="sec:relnotes"></a>

<p>Collected release-notes. This section only contains some highlights. 
Smaller changes to especially older releases have been removed. For a 
complete log, see the file <code>ChangeLog</code> from the distribution.

<h3>Version 1.8 Release Notes</h3>

<a name="sec:rel-1.8"></a>

<p>Version 1.8 offers a stack-shifter to provide dynamically expanding 
stacks on machines that do not offer operating-system support for 
implementing dynamic stacks.

<h3>Version 1.9 Release Notes</h3>

<a name="sec:rel-1.9"></a>

<p>Version 1.9 offers better portability including an MS-Windows 3.1 
version. Changes to the Prolog system include:

<p>
<ul class="latex">
<li><i>Redefinition of system predicates</i><br>
Redefinition of system predicates was allowed silently in older 
versions. Version 1.9 only allows it if the new definition is headed by 
a :- <a name="idx:redefinesystempredicate1:12"></a><a class="pred" href="db.html#redefine_system_predicate/1">redefine_system_predicate/1</a> 
directive.
<li><i>Top-level `answer' reuse</i><br>
The top-level maintains a table of bindings returned by top-level goals 
and allows for reuse of these bindings by prefixing the variables with 
the $ sign. See <a class="sec" href="topvars.html">section 2.8</a>.
<li><i>Better source code administration</i><br>
Allows for proper updating of multifile predicates and finding the 
sources of individual clauses.
</ul>

<h3>Version 2.0 Release Notes</h3>

<a name="sec:rel-2.0"></a>

<p>New features offered:

<p>
<ul class="latex">
<li><i>32-bit Virtual Machine</i><br>
Removes various limits and improves performance.
<li><i>Inline foreign functions</i><br>
`Simple' foreign predicates no longer build a Prolog stack-frame, but 
are directly called from the VM. Notably provides a speedup for the test 
predicates such as <a name="idx:var1:13"></a><a class="pred" href="typetest.html#var/1">var/1</a>, 
etc.
<li><i>Various compatibility improvements</i><br>
<li><i>Stream based I/O library</i><br>
All SWI-Prolog's I/O is now handled by the stream-package defined in the 
foreign include file <code>SWI-Stream.h</code>. Physical I/O of Prolog 
streams may be redefined through the foreign language interface, 
facilitating much simpler integration in window environments.
</ul>

<h3>Version 2.5 Release Notes</h3>

<a name="sec:rel-2.5"></a>

<p>Version 2.5 is an intermediate release on the path from 2.1 to 3.0. 
All changes are to the foreign-language interface, both to user- and 
system-predicates implemented in the C-language. The aim is twofold. 
First of all to make garbage-collection and stack-expansion 
(stack-shifts) possible while foreign code is active without the 
C-programmer having to worry about locking and unlocking C-variables 
pointing to Prolog terms. The new approach is closely compatible with 
the Quintus and SICStus Prolog foreign interface using the <code>+term</code> 
argument specification (see their respective manuals). This allows for 
writing foreign interfaces that are easily portable over these three 
Prolog platforms.

<p>Apart from various bug fixes listed in the ChangeLog file, these are 
the main changes since 2.1.0:

<p>
<ul class="latex">
<li><i>ISO compatibility</i><br>
Many ISO compatibility features have been added: <a name="idx:open4:14"></a><a class="pred" href="IO.html#open/4">open/4</a>, 
arithmetic functions, syntax, etc.
<li><i>Win32</i><br>
Many fixes for the Win32 (NT, '95 and win32s) platforms. Notably many 
problems related to pathnames and a problem in the garbage collector.
<li><i>Performance</i><br>
Many changes to the clause indexing system: added hash-tables, lazy 
computation of the index information, etc.
<li><i>Portable saved-states</i><br>
The predicate <a name="idx:qsaveprogram12:15"></a><a class="pred" href="runtime.html#qsave_program/1">qsave_program/[1,2]</a> 
allows for the creation of machine independent saved-states that load 
very quickly.
</ul>

<h3>Version 2.6 Release Notes</h3>

<a name="sec:rel-2.6"></a>

<p>Version 2.6 provides a stable implementation of the features added in 
the 2.5.x releases, but at the same time implements a number of new 
features that may have impact on the system stability.

<p>
<ul class="latex">
<li><i>32-bit integer and double float arithmetic</i><br>
The biggest change is the support for full 32-bit signed integers and 
raw machine-format double precision floats. The internal data 
representation as well as the arithmetic instruction set and interface 
to the arithmetic functions has been changed for this.
<li><i>Embedding for Win32 applications</i><br>
The Win32 version has been reorganised. The Prolog kernel is now 
implemented as Win32 DLL that may be embedded in C-applications. Two 
front ends are provided, one for window-based operation and one to run 
as a Win32 console application.
<li><i>Creating stand-alone executables</i><br>
Version 2.6.0 can create stand-alone executables by attaching the 
saved-state to the emulator. See <a name="idx:qsaveprogram2:16"></a><a class="pred" href="runtime.html#qsave_program/2">qsave_program/2</a>.
</ul>

<h3>Version 2.7 Release Notes</h3>

<a name="sec:rel-2.7"></a>

<p>Version 2.7 reorganises the entire data-representation of the Prolog 
data itself. The aim is to remove most of the assumption on the 
machine's memory layout to improve portability in general and enable 
embedding on systems where the memory layout may depend on invocation or 
on how the executable is linked. The latter is notably a problem on the 
Win32 platforms. Porting to 64-bit architectures is feasible now.

<p>Furthermore, 2.7 lifts the limits on arity of predicates and number 
of variables in a clause considerably and allows for further expansion 
at minimal cost.

<h3>Version 2.8 Release Notes</h3>

<a name="sec:rel-2.8"></a>

<p><a name="idx:AlphaDEC:17"></a><a name="idx:DECAlpha:18"></a>With 
version 2.8, we declare the data-representation changes of 2.7.x stable. 
Version 2.8 exploits the changes of 2.7 to support 64-bit processors 
like the DEC Alpha. As of version 2.8.5, the representation of recorded 
terms has changed, and terms on the heap are now represented in a 
compiled format. SWI-Prolog no longer limits the use of malloc() or uses 
assumptions on the addresses returned by this function.

<h3>Version 2.9 Release Notes</h3>

<a name="sec:rel-2.9"></a>

<p>Version 2.9 is the next step towards version 3.0, improving ISO 
compliance and introducing ISO compliant exception handling. New are
<a name="idx:catch3:19"></a><a class="pred" href="exception.html#catch/3">catch/3</a>, <a name="idx:throw1:20"></a><a class="pred" href="exception.html#throw/1">throw/1</a>, <a name="idx:abolish1:21"></a><a class="pred" href="db.html#abolish/1">abolish/1</a>, <a name="idx:writeterm23:22"></a><a class="pred" href="termrw.html#write_term/2">write_term/[2,3]</a>, <a name="idx:writecanonical12:23"></a><a class="pred" href="termrw.html#write_canonical/1">write_canonical/[1,2]</a> 
and the C-functions <a class="func" href="foreigninclude.html#PL_exception()">PL_exception()</a> 
and <a class="func" href="foreigninclude.html#PL_throw()">PL_throw()</a>. 
The predicates
<a name="idx:display12:24"></a><span class="pred-ext">display/[1,2]</span> 
and <a name="idx:displayq12:25"></a><span class="pred-ext">displayq/[1,2]</span> 
have been moved to <code>library(backcomp)</code>, so old code referring 
to them will autoload them.

<p>The interface to <a class="func" href="foreigninclude.html#PL_open_query()">PL_open_query()</a> 
has changed. The <var>debug</var> argument is replaced by a bitwise 
or'ed <var>flags</var> argument. The values
<code>FALSE</code> and <code>TRUE</code> have their familiar meaning, 
making old code using these constants compatible. Non-zero values other 
than
<code>TRUE</code> (1) will be interpreted different.

<h3>Version 3.0 Release Notes</h3>

<a name="sec:rel-3.0"></a>

<p>Complete redesign of the saved-state mechanism, providing the 
possibility of `program resources'. See <a name="idx:resource3:26"></a><a class="pred" href="useresource.html#resource/3">resource/3</a>, <a name="idx:openresource3:27"></a><a class="pred" href="useresource.html#open_resource/3">open_resource/3</a>, 
and
<a name="idx:qsaveprogram12:28"></a><a class="pred" href="runtime.html#qsave_program/1">qsave_program/[1,2]</a>.

<h3>Version 3.1 Release Notes</h3>

<a name="sec:rel-3.1"></a>

<p>Improvements on exception-handling. Allows relating software 
interrupts (signals) to exceptions, handling signals in Prolog and C 
(see
<a name="idx:onsignal3:29"></a><a class="pred" href="signal.html#on_signal/3">on_signal/3</a> 
and <a class="func" href="foreigninclude.html#PL_signal()">PL_signal()</a>). 
Prolog stack overflows now raise the <code>resource_error</code> 
exception and thus can be handled in Prolog using <a name="idx:catch3:30"></a><a class="pred" href="exception.html#catch/3">catch/3</a>.

<h3>Version 3.3 Release Notes</h3>

<a name="sec:rel-3.3"></a>

<p>Version 3.3 is a major release, changing many things internally and 
externally. The highlights are a complete redesign of the high-level I/O 
system, which is now based on explicit streams rather than current 
input/output. The old Edinburgh predicates (<a name="idx:see1:31"></a><a class="pred" href="IO.html#see/1">see/1</a>, <a name="idx:tell1:32"></a><a class="pred" href="IO.html#tell/1">tell/1</a>, 
etc.) are now defined on top of this layer instead of the other way 
around. This fixes various internal problems and removes Prolog limits 
on the number of streams.

<p>Much progress has been made to improve ISO compliance: handling 
strings as lists of one-character atoms is now supported (next to 
character codes as integers). Many more exceptions have been added and 
printing of exceptions and messages is rationalised using Quintus and 
SICStus Prolog compatible <a name="idx:printmessage2:33"></a><a class="pred" href="exception.html#print_message/2">print_message/2</a>, <a name="idx:messagehook3:34"></a><a class="pred" href="exception.html#message_hook/3">message_hook/3</a> 
and <a name="idx:printmessagelines3:35"></a><a class="pred" href="exception.html#print_message_lines/3">print_message_lines/3</a>. 
All predicates described in <cite><a class="cite" href="Bibliography.html#Deransart:96">Deransart <em>et 
al.</em>, 1996</a></cite> are now implemented.

<p>As of version 3.3, SWI-Prolog adheres to the ISO <em>logical update 
view</em> for dynamic predicates. See <a class="sec" href="db.html">section 
4.13.1</a> for details.

<p>SWI-Prolog 3.3 includes garbage collection on atoms, removing the 
last serious memory leak especially in text-manipulation applications. 
See
<a class="sec" href="foreigninclude.html">section 9.4.2.1</a>. In 
addition, both the user-level and foreign interface support atoms 
holding <em>0-bytes</em>.

<p>Finally, an alpha version of a multi-threaded SWI-Prolog for Linux is 
added. This version is still much slower than the single-threaded 
version due to frequent access to `thread-local-data' as well as some 
too detailed mutex locks. The basic thread API is ready for serious use 
and testing however. See <a class="sec" href="threads.html">section 8</a>.

<h4>Incompatible changes</h4>

<p>A number of incompatible changes result from this upgrade. They are 
all easily fixed however.

<p>
<ul class="latex">
<li><i><a class="pred" href="control.html#!/0">!/0</a>, <a name="idx:call1:36"></a><a class="pred" href="metacall.html#call/1">call/1</a></i><br>
The cut now behaves according to the ISO standard. This implies it works 
in compound goals passed to <a name="idx:call1:37"></a><a class="pred" href="metacall.html#call/1">call/1</a> 
and is local to the <em>condition</em> part of if-then-else as well as 
the argument of <a class="pred" href="control.html#\+/1">\+/1</a>.
<li><i>atom_chars/2</i><br>
This predicate is now ISO compliant and thus generates a list of 
one-character atoms. The behaviour of the old predicate is available in 
the ---also ISO compliant--- <a name="idx:atomcodes2:38"></a><a class="pred" href="manipatom.html#atom_codes/2">atom_codes/2</a> 
predicate. Safest repair is a replacement of all <code>atom_chars</code> 
into <code>atom_codes</code>. If you do not want to change any 
source-code, you might want to use

<pre class="code">
user:goal_expansion(atom_chars(A,B), atom_codes(A,B)).
</pre>

<p>
<li><i>number_chars/2</i><br>
Same applies for <a name="idx:numberchars2:39"></a><a class="pred" href="manipatom.html#number_chars/2">number_chars/2</a> 
and <a name="idx:numbercodes2:40"></a><a class="pred" href="manipatom.html#number_codes/2">number_codes/2</a>.
<li><i>feature/2 , set_feature/2</i><br>
These are replaced by the ISO compliant <a name="idx:currentprologflag2:41"></a><a class="pred" href="flags.html#current_prolog_flag/2">current_prolog_flag/2</a> 
and
<a name="idx:setprologflag2:42"></a><a class="pred" href="flags.html#set_prolog_flag/2">set_prolog_flag/2</a>. 
The library <code>library(backcomp)</code> provides definitions for 
these predicates, so no source <b>must</b> be updated.
<li><i>Accessing command-line arguments</i><br>
This used to be provided by the undocumented '$argv'/1 and Quintus 
compatible library <a name="idx:unix1:43"></a><a class="pred" href="system.html#unix/1">unix/1</a>. 
Now there is also documented
<code>current_prolog_flag(argv, Argv)</code>.
<li><i>dup_stream/2</i><br>
Has been deleted. New stream-aliases can deal with most of the problems 
for which <a name="idx:dupstream2:44"></a><span class="pred-ext">dup_stream/2</span> 
was designed and <a name="idx:dup2:45"></a><span class="pred-ext">dup/2</span> 
from the <em>clib</em> package can with most others.
<li><i>op/3</i><br>
Operators are now <b>local to modules</b>. This implies any modification 
of the operator-table does not influence other modules. This is 
consistent with the proposed ISO behaviour and a necessity to have any 
usable handling of operators in a multi-threaded environment.
<li><i>set_prolog_flag(character_escapes, Bool)</i><br>
This Prolog flag is now an interface to changing attributes on the 
current source-module, effectively making this flag module-local as 
well. This is required for consistent handling of sources written with 
ISO (obligatory) character-escape sequences together with old Edinburgh 
code.
<li><i>current_stream/3 and stream_position</i><br>
These predicates have been moved to <code>library(quintus)</code>.
</ul>

<h3>Version 3.4 Release Notes</h3>

<a name="sec:rel-3.4"></a>

<p>The 3.4 release is a consolidation release. It consolidates the 
improvements and standard conformance of the 3.3 releases. This version 
is closely compatible with the 3.3 version except for one important 
change:

<p>
<ul class="latex">
<li><i>Argument order in <a name="idx:select3:46"></a><a class="pred" href="lists.html#select/3">select/3</a></i><br>
The list-processing predicate <a name="idx:select3:47"></a><a class="pred" href="lists.html#select/3">select/3</a> 
somehow got into a very early version of SWI-Prolog with the wrong 
argument order. This has been fixed in 3.4.0. The correct order is 
select(?Elem, ?List, ?Rest).

<p>As <a name="idx:select3:48"></a><a class="pred" href="lists.html#select/3">select/3</a> 
has no error conditions, runtime checking cannot be done. To simplify 
debugging, the library module <code>library(checkselect)</code> will 
print references to <a name="idx:select3:49"></a><a class="pred" href="lists.html#select/3">select/3</a> 
in your source code and install a version of select that enters the 
debugger if select is called and the second argument is not a list.

<p>This library can be loaded explicitly or by calling <a name="idx:checkoldselect0:50"></a><span class="pred-ext">check_old_select/0</span>.
</ul>

<h3>Version 4.0 Release Notes</h3>

<a name="sec:rel-4.0"></a>

<p>As of version 4.0 the standard distribution of SWI-Prolog is bundled 
with a number of its popular extension packages, among which the now 
open source XPCE GUI toolkit (see <a class="sec" href="xpce.html">section 
1.5</a>). No significant changes have been made to the basic SWI-Prolog 
engine.

<p>Some useful tricks in the integrated environment:

<p>
<ul class="latex">
<li><i>Register the GUI tracer</i><br>
Using a call to <a name="idx:guitracer0:51"></a><a class="pred" href="guitracer.html#guitracer/0">guitracer/0</a>, 
hooks are installed that replace the normal command-line driven tracer 
with a graphical front-end.

<p>
<li><i>Register PceEmacs for editing files</i><br>
From your initialisation file. you can load <code>library(emacs/swi_prolog)</code> 
that cause <a name="idx:edit1:52"></a><a class="pred" href="edit.html#edit/1">edit/1</a> 
to use the built-in PceEmacs editor.
</ul>

<h3>Version 5.0 Release Notes</h3>

<a name="sec:rel-5.0"></a>

<p>Version 5.0 marks a breakpoint in the philosophy, where SWI-Prolog 
moves from a dual GPL/proprietary to a uniform LGPL (Lesser GNU Public 
Licence) schema, providing a widely usable Free Source Prolog 
implementation.

<p>On the technical site the development environment, consisting of 
source-level debugger, integrated editor and various analysis and 
navigation tools progress steadily towards a mature set of tools.

<p>Many portability issues have been improved, including a port to MacOS 
X (Darwin).

<p>For details, please visit the new website at
<a class="url" href="http://www.swi-prolog.org">http://www.swi-prolog.org</a>

<h3>Version 5.1 Release Notes</h3>

<a name="sec:rel-5.1"></a>

<p>Version 5.1 is a beta-series introducing portable multi-threading. 
See
<a class="sec" href="threads.html">chapter 8</a>. In addition it 
introduces many new facilities to support server applications, such as 
the new <code>library(rlimit)</code> library to limit system resources 
and the possibility to set timeouts on input streams.

<h3>Version 5.2 Release Notes</h3>

<a name="sec:rel-5.2"></a>

<p>Version 5.2 consolidates the 5.1.x beta series that introduced 
threading and many related modifications to the kernel.

<h3>Version 5.3 Release Notes</h3>

<a name="sec:rel-5.3"></a>

<p>Version 5.3.x is a development series for adding coroutining, 
constraints, global variables, cyclic terms (infinite trees) and other 
goodies to the kernel. The package JPL, providing a bidirectional 
Java/Prolog interface is added to the common source-tree and common 
binary packages.

<h3>Version 5.4 Release Notes</h3>

<a name="sec:rel-5.4"></a>

<p>Version 5.4 consolidates the 5.3.x beta series.

<h3>Version 5.5 Release Notes</h3>

<a name="sec:rel-5.5"></a>

<p>Version 5.5.x provides support for <em>wide characters</em> with 
UTF-8 and UNICODE I/O (<a class="sec" href="widechars.html">section 
2.18.1</a>). On both 32 and 64-bit hardware Prolog integers are now at 
minimum 64-bit integers. If available, SWI-Prolog arithmetic uses the 
GNU GMP library to provide
<em>unbounded</em> integer arithmetic as well as rational arithmetic. 
Adding GMP support is sponsored by Scientific Software and Systems 
Limited, <a class="url" href="www.sss.co.nz">www.sss.co.nz</a>. This 
version also incorporates clp(r) by Christian Holzbaur, brought to 
SWI-Prolog by Tom Schrijvers and Leslie De Koninck (<a class="sec" href="clpqr.html">section 
A.8</a>).

<h3>Version 5.6 Release Notes</h3>

<a name="sec:rel-5.6"></a>

<p>Version 5.6 consolidates the 5.5.x beta series.

<h3>Version 5.7 Release Notes</h3>

<a name="sec:rel-5.7"></a>

<p>The aim of the 5.7 series is to clean up much of the system. Notably, 
the virtual machine has a much simpler setup that makes it much easier 
to add new instructions. This facility has been exploited to enhance 
performance and provide proper support for the <a name="idx:metapredicate1:53"></a><a class="pred" href="metapred.html#meta_predicate/1">meta_predicate/1</a> 
directive for enhanced portability.

<h3>Version 5.10 Release Notes</h3>

<a name="sec:rel-5.10"></a>

<p>The 5.9 series has enhanced SWI-Prolog in terms of memory management, 
scalability and robustness. Notably, threads are much cheaper and now 
limited in count only by the OS. Database and stream-handles have become 
safe. Compatibility to YAP and SISCtus has been improved.

<p></body></html>